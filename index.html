<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake Terminal Example</title>
    <script src="https://cdn.jsdelivr.net/npm/jquery"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery.terminal/js/jquery.terminal.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery.terminal/css/jquery.terminal.min.css"/>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #1a1a1a;
        }
        #terminal {
            width: 90%;
            height: 90%;
        }
        #terminal {
            --color: #ffffff; /* White text for terminal */
            --background: #2e2e2e; /* Dark gray background for terminal */
            --size: 1.2;
        }
    </style>
</head>
<body>
    <div id="terminal"></div>
    <script>
        const randomTexts = [
            "What was Jonathan's PhD on?", 
            "What is current research on?", 
            "Where does he work at?", 
            "What are his favorite things?", 
            "What is his favorite quote?", 
            "What is his Erdos number?",
            "Can he ride a bicycle?",
            "Can you tell me a secret about him?",
            "Can I see the pictures he takes?"
        ];

        let firstClickIgnored = false;

        $('#terminal').terminal(function(command, term) {
            if (command !== '') {
                const url = `https://openai-worker.tonton-tremblay.workers.dev/?prompt=${encodeURIComponent(command)}`;
                term.echo('Processing...');
                $.get(url).then(function(response) {
                    term.echo('[[;#1E90FF;]>' + response + ']');
                }).catch(function(error) {
                    term.error('Error: ' + error.message);
                });
            } else {
                const randomText = randomTexts[Math.floor(Math.random() * randomTexts.length)];
                term.echo('[[;#32CD32;]' + randomText + ']');
            }
        }, {
            greetings: "Hello, I am Jonathan Tremblay's terminal. Please ask questions about him.",
            prompt: '[[;#ffcc00;]jtremblay@terminal:~$ ]',
            exitOnEsc: false
        });

        $('#terminal').click(function() {
            if (!firstClickIgnored) {
                firstClickIgnored = true;
                return;
            }
            const randomText = randomTexts[Math.floor(Math.random() * randomTexts.length)];
            $('#terminal').terminal().echo('[[;#32CD32;]' + randomText + ']');
        });
    </script>
</body>
</html>
